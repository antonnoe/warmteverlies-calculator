<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Energie- & Kostencalculator Frankrijk | InfoFrankrijk.com</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --brand-color: #800000; }
    body { font-family: 'Inter', sans-serif; background-color: #f9fafb; }
    .tooltip { position: relative; display: inline-flex; }
    .tooltip .tooltip-text { visibility: hidden; width: 250px; background-color: #333; color: #fff; text-align: left; border-radius: 6px; padding: 8px; position: absolute; z-index: 10; bottom: 125%; left: 50%; margin-left: -125px; opacity: 0; transition: opacity 0.3s; font-weight: 400; }
    .tooltip:hover .tooltip-text { visibility: visible; opacity: 1; }
    @media print {
      body * { visibility: hidden; }
      #pdf-summary, #pdf-summary * { visibility: visible; }
      #pdf-summary { position: absolute; left: 0; top: 0; width: 100%; }
      .no-print { display: none !important; }
    }
  </style>
</head>
<body>
  <div id="app"></div>

  <script type="text/babel">
    const { useState, useMemo, useCallback, useRef } = React;

    // --- Data & Constants ---
    const ZONES = [ { id: 'med', name: 'Méditerranée (zacht)', hdd: 1400, pool_temp: 22 }, { id: 'ouest', name: 'Zuid‑West / Atlantisch', hdd: 1900, pool_temp: 20 }, { id: 'paris', name: 'Noord / Parijs (Île-de-France)', hdd: 2200, pool_temp: 19 }, { id: 'centre', name: 'Centraal / Bourgogne', hdd: 2500, pool_temp: 19 }, { id: 'est', name: 'Oost / Elzas‑Lotharingen', hdd: 2800, pool_temp: 18 }, { id: 'mont', name: 'Bergen (koel)', hdd: 3400, pool_temp: 17 }, ];
    const PV_YIELD = { med: 1450, ouest: 1250, paris: 1150, centre: 1200, est: 1150, mont: 1100 };
    const DEFAULT_APPLIANCES = [ { key: 'fridge', label: 'Koelkast/vriezer', kwh: 250, on: true }, { key: 'wash', label: 'Wassen/drogen', kwh: 220, on: true }, { key: 'dish', label: 'Vaatwasser', kwh: 160, on: true }, { key: 'it', label: 'IT & randapparatuur', kwh: 150, on: true }, { key: 'tv', label: 'TV & media', kwh: 120, on: true }, { key: 'small', label: 'Kleine verbruikers', kwh: 150, on: true }, { key: 'lighting', label: 'Verlichting (LED)', kwh: 180, on: true }, ];
    const PRICE_DEFAULTS_USER = { elec: 0.25, gas: 1.20, fioul: 1.15, pellet: 0.60, wood: 85, propaan: 1.80, petroleum: 2.00 };
    const ENERGY_UNITS = { elec: '€/kWh', gas: '€/m³', fioul: '€/L', pellet: '€/kg', wood: '€/stère', propaan: '€/L', petroleum: '€/L' };
    const KWH_CONVERSION = { elec: 1, gas: 10, fioul: 10, pellet: 5, wood: 1800, propaan: 7.1, petroleum: 10 };
    const HEAT_MAIN = [ { key: 'elec', label: 'Elektrisch (direct)', eff: 1, priceKey: 'elec' }, { key: 'hp', label: 'Warmtepomp (SCOP)', eff: 3.0, priceKey: 'elec', scop: true }, { key: 'gas', label: 'Aardgas (ketel η)', eff: 0.9, priceKey: 'gas', eta: true }, { key: 'fioul', label: 'Fioul/mazout (η)', eff: 0.85, priceKey: 'fioul', eta: true }, { key: 'pellet', label: 'Pellet‑CV (η)', eff: 0.9, priceKey: 'pellet', eta: true }, { key: 'wood', label: 'Hout‑CV (η)', eff: 0.7, priceKey: 'wood', eta: true }, ];
    const HEAT_AUX = [ { key: 'none', label: 'Geen bijverwarming', eff: 1, priceKey: null }, { key: 'inverter', label: 'Inverter‑airco (SCOP)', eff: 3.2, priceKey: 'elec', scop: true }, { key: 'elec', label: 'Elektrisch (direct)', eff: 1, priceKey: 'elec' }, { key: 'pellet', label: 'Houtpelletkachel (η)', eff: 0.85, priceKey: 'pellet', eta: true }, { key: 'wood', label: 'Houtkachel (η)', eff: 0.6, priceKey: 'wood', eta: true }, { key: 'petroleum', label: 'Petroleumkachel (η)', eff: 0.9, priceKey: 'petroleum', eta: true }, ];
    const DHW_TYPES = [ { key: 'elec', label: 'Boiler elektrisch', eff: 1, priceKey: 'elec' }, { key: 'gas', label: 'Gasgeiser/ketel (η)', eff: 0.9, priceKey: 'gas', eta: true }, { key: 'hp', label: 'WP‑boiler (SCOP)', eff: 2.5, priceKey: 'elec', scop: true }, { key: 'solar', label: 'Zonneboiler', eff: 2.0, priceKey: 'elec', note: 'Hulp‑elektra*' }, ];
    const POOL_HEAT = [ { key: 'none', label: 'Geen verwarming', eff: Infinity, priceKey: null }, { key: 'elec', label: 'Elektrisch', eff: 1, priceKey: 'elec' }, { key: 'gas', label: 'Gas (η)', eff: 0.9, priceKey: 'gas', eta: true }, { key: 'hp', label: 'Warmtepomp (SCOP)', eff: 4, priceKey: 'elec', scop: true }, ];
    const U_PRESETS = { wall: {'Ongeïsoleerd (~1975)': 2.0, 'Matig (~5cm)': 0.8, 'Goed (~10cm)': 0.4, 'Zeer goed (15cm+)': 0.25}, roof: {'Ongeïsoleerd': 3.0, 'Matig (~10cm)': 0.5, 'Goed (~20cm)': 0.25, 'Zeer goed (30cm+)': 0.15}, floor: {'Op zand': 2.2, 'Kruipruimte': 1.2, 'Matig geïsoleerd': 0.8, 'Goed geïsoleerd': 0.3}, win: {'Enkel glas': 5.5, 'Oud dubbelglas': 2.8, 'Modern HR(+)': 1.6, 'Triple HR++': 1.0} };
    const FAQ_CONTENT = [ { q: "Hoe betrouwbaar is de uitkomst?", a: "De tool gebruikt fysisch onderbouwde formules en realistische default-waarden. Het blijft een benadering, geen officieel DPE/audit. Nauwkeurigheid stijgt met goede invoer." }, { q: "Wat betekenen U-waarde, R-waarde en Σ(U·A)?", a: "<b>U-waarde</b> (W/m²K): warmtedoorgang; hoe lager, hoe beter. <b>R-waarde</b> (m²K/W): warmteweerstand; hoe hoger, hoe beter. Het transmissieverlies wordt geschat via <b>Htr = Σ(U · A)</b>, in W/K." }, { q: "Wat is n (ACH) en Hvent?", a: "<b>n (ACH)</b> = luchtwisselingen per uur. Ventilatieverlies: <b>Hvent = 0,34 · n · V</b> (W/K), met V het verwarmde volume in m³. De factor 0,34 is een fysische constante voor lucht." }, { q: "Wat zijn HDD (graaddagen)?", a: "<b>HDD</b> (Heating Degree Days) is een maat voor de jaarlijkse stookbehoefte. Jaarwarmtevraag: <b>E ≈ H · HDD · 24 / 1000</b> (in kWh/j)." }, { q: "Wat is SCOP/COP?", a: "<b>SCOP</b> (Seasonal COP) is de seizoensprestatie van een warmtepomp. Elektriciteitsvraag ≈ warmtevraag / SCOP. Bij vorst daalt de momentane COP." } ];

    // --- Helper Components ---
    const fmt = new Intl.NumberFormat('nl-NL', { maximumFractionDigits: 0 });
    const money = (x) => new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(x);
    const num = (v, d = 0) => { const n = parseFloat(String(v).replace(',', '.')); return Number.isFinite(n) ? n : d; };

    const Icon = ({ path, className = "w-6 h-6" }) => <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className={className}><path d={path} /></svg>;
    const icons = { building: "M3.75 21.75a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75zM4.5 9.75a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zM4.5 15.75a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zM8.25 2.25a.75.75 0 01.75.75v16.5a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM15.75 2.25a.75.75 0 01.75.75v16.5a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75z", fire: "M15.362 4.362a1.75 1.75 0 012.474 0 1.75 1.75 0 010 2.474l-5.333 5.333-3.724-3.724a.75.75 0 011.06-1.06l2.664 2.664 5.333-5.333a.75.75 0 01-1.06-1.06l-5.333 5.333-2.664-2.664a1.75 1.75 0 010-2.474 1.75 1.75 0 012.474 0l2.664 2.664 5.333-5.333z", bolt: "M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.25 4.5h13.5c.828 0 1.5.672 1.5 1.5v3.75c0 .828-.672 1.5-1.5 1.5H5.25c-.828 0-1.5-.672-1.5-1.5V6c0-.828.672-1.5 1.5-1.5z", beaker: "M9.75 21.75a.75.75 0 01-.75-.75V11.25a.75.75 0 011.5 0v9.75a.75.75 0 01-.75-.75zM14.25 21.75a.75.75 0 01-.75-.75V11.25a.75.75 0 011.5 0v9.75a.75.75 0 01-.75-.75zM12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm0 18a8.25 8.25 0 100-16.5 8.25 8.25 0 000 16.5z", currency: "M12 1.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0112 1.5zM18.75 6a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5zM12 21a.75.75 0 01-.75-.75v-1.5a.75.75 0 011.5 0v1.5A.75.75 0 0112 21zM5.25 6a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5z", faq: "M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z", debug: "M11.42 15.17L17.17 20.92M5.58 11.42L11.33 17.17M12.75 5.58L18.5 11.33M6.92 6.92L12.67 12.67M3.08 15.17L8.83 20.92M9.75 3.08L15.5 8.83M16.58 5.58L22.33 11.33M11.33 1.25L17.08 7M18.5 1.25L24.25 7" };
    
    const Tooltip = ({ text }) => (
      <div className="tooltip">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-4 h-4 text-gray-400 cursor-help"><path strokeLinecap="round" strokeLinejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" /></svg>
        <span className="tooltip-text">{text}</span>
      </div>
    );
    
    const AccordionSection = ({ icon, title, number, children, initiallyOpen = false }) => {
        const [isOpen, setIsOpen] = useState(initiallyOpen);
        return (
            <div className="bg-white border border-gray-200 rounded-xl shadow-sm">
                <button onClick={() => setIsOpen(!isOpen)} className="w-full flex items-center justify-between p-4 text-left">
                    <div className="flex items-center gap-4">
                        <div className="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full text-[var(--brand-color)]">{icon}</div>
                        <span className="font-semibold text-lg text-gray-800">{number}. {title}</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" className={`w-5 h-5 text-gray-500 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`}><path fillRule="evenodd" d="M5.22 8.22a.75.75 0 011.06 0L10 11.94l3.72-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.22 9.28a.75.75 0 010-1.06z" clipRule="evenodd" /></svg>
                </button>
                <div className={`grid transition-[grid-template-rows] duration-500 ease-in-out ${isOpen ? 'grid-rows-[1fr]' : 'grid-rows-[0fr]'}`}>
                    <div className="overflow-hidden"><div className="p-4 pt-0">{children}</div></div>
                </div>
            </div>
        );
    };

    const NumberInput = ({ label, value, onChange, unit, tooltip, ...props }) => (
      <div>
          <label className="block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1">{label} {tooltip && <Tooltip text={tooltip} />}</label>
          <div className="flex">
              <input type="text" inputMode="decimal" value={value} onChange={e => onChange(e.target.value)} className="w-full p-2 border-gray-300 border rounded-l-md text-sm" {...props} />
              {unit && <span className="inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm">{unit}</span>}
          </div>
      </div>
    );
    
    // --- Main App Component ---
    function App() {
        // --- State declarations ---
        const [zone, setZone] = useState('paris');
        const [setpoint, setSetpoint] = useState('20');
        const [wallA, setWallA] = useState('120'), [wallU, setWallU] = useState('0.5');
        const [roofA, setRoofA] = useState('100'), [roofU, setRoofU] = useState('0.25');
        const [floorA, setFloorA] = useState('100'), [floorU, setFloorU] = useState('0.35');
        const [winA, setWinA] = useState('20'), [winU, setWinU] = useState('1.5');
        const [volume, setVolume] = useState('250');
        const [ach, setAch] = useState('0.5');
        const [warmupPct, setWarmupPct] = useState('15');
        const [userPrices, setUserPrices] = useState({ ...PRICE_DEFAULTS_USER });
        const [mainType, setMainType] = useState('hp');
        const [mainScop, setMainScop] = useState('3.2');
        const [mainEta, setMainEta] = useState('0.9');
        const [auxType, setAuxType] = useState('wood');
        const [auxSharePreset, setAuxSharePreset] = useState('25');
        const [auxShareCustom, setAuxShareCustom] = useState('25');
        const [auxScop, setAuxScop] = useState('3.2');
        const [auxEta, setAuxEta] = useState('0.85');
        const [pvKwp, setPvKwp] = useState('3');
        const [pvSelfUse, setPvSelfUse] = useState('60');
        const [dhwType, setDhwType] = useState('hp');
        const [dhwScop, setDhwScop] = useState('2.5');
        const [dhwEta, setDhwEta] = useState('0.9');
        const [showers, setShowers] = useState('2');
        const [litersPer, setLitersPer] = useState('55');
        const [coldT, setColdT] = useState('12');
        const [hotT, setHotT] = useState('40');
        const [appls, setAppls] = useState(DEFAULT_APPLIANCES);
        const [evKmWeek, setEvKmWeek] = useState('100');
        const [evKwh100, setEvKwh100] = useState('18');
        const [evLoss, setEvLoss] = useState('10');
        const [poolHas, setPoolHas] = useState(false);
        const [poolVol, setPoolVol] = useState('30');
        const [poolTargetT, setPoolTargetT] = useState('27');
        const [poolSeason, setPoolSeason] = useState('5');
        const [poolHeatType, setPoolHeatType] = useState('hp');
        const [poolHpScop, setPoolHpScop] = useState('4');
        const [poolEta, setPoolEta] = useState('0.9');
        const [poolPumpW, setPoolPumpW] = useState('450');
        const [poolPumpH, setPoolPumpH] = useState('8');
        const [poolCover, setPoolCover] = useState('true');
        const [poolWind, setPoolWind] = useState('1');

        // --- Calculations ---
        const results = useMemo(() => {
            const pricesKwh = Object.keys(userPrices).reduce((acc, key) => {
                acc[key] = num(userPrices[key]) / (KWH_CONVERSION[key] || 1);
                return acc;
            }, {});
            
            const auxShare = auxSharePreset === 'custom' ? num(auxShareCustom) : num(auxSharePreset);

            const hdd = ZONES.find(z => z.id === zone)?.hdd || 2200;
            const UA = num(wallA) * num(wallU) + num(roofA) * num(roofU) + num(floorA) * num(floorU) + num(winA) * num(winU);
            const Vloss = 0.34 * num(volume) * num(ach);
            const heatDemandBase = (UA + Vloss) * hdd * 24 / 1000;
            const heatDemand = heatDemandBase * (1 + num(warmupPct) / 100);
            
            const auxFrac = auxType === 'none' ? 0 : Math.min(0.9, num(auxShare) / 100);
            const mainFrac = 1 - auxFrac;
            
            const mainDef = HEAT_MAIN.find(h => h.key === mainType);
            const auxDef = HEAT_AUX.find(h => h.key === auxType) || {};
            const mainEff = mainDef?.scop ? num(mainScop, 1) : (mainDef?.eta ? num(mainEta, 0.1) : (mainDef?.eff || 1));
            const auxEff = auxDef?.scop ? num(auxScop, 1) : (auxDef?.eta ? num(auxEta, 0.1) : 1);
            const mainInput = heatDemand * mainFrac / mainEff;
            const auxInput = auxDef.key === 'none' ? 0 : (heatDemand * auxFrac / auxEff);
            const mainCost = (pricesKwh[mainDef?.priceKey] || 0) * mainInput;
            const auxCost = (pricesKwh[auxDef?.priceKey] || 0) * auxInput;

            const pvYield = num(pvKwp) > 0 ? num(pvKwp) * (PV_YIELD[zone] || 1150) : 0;
            const pvSelf = pvYield * (num(pvSelfUse) / 100);
            
            const dhwThermal = (num(showers) * num(litersPer) * 365 * Math.max(0, num(hotT) - num(coldT)) * 4.186) / 3600;
            const dhwDef = DHW_TYPES.find(d => d.key === dhwType);
            const dhwEff = dhwDef?.scop ? num(dhwScop, 1) : (dhwDef?.eta ? num(dhwEta, 0.1) : 1);
            const dhwInput = dhwThermal / dhwEff;
            const dhwCost = (pricesKwh[dhwDef?.priceKey] || 0) * dhwInput;
            
            const applKwh = appls.reduce((s, a) => s + (a.on ? num(a.kwh, 0) : 0), 0);
            const evKwhYear = (num(evKmWeek) * 52) * (num(evKwh100) / 100) * (1 + num(evLoss) / 100);

            let pool = { kwh: 0, cost: 0, elec: 0, gas: 0 };
            if (poolHas) {
                const days = num(poolSeason) * 30;
                const pumpKwh = (num(poolPumpW) / 1000) * num(poolPumpH) * days;
                const ambientTemp = ZONES.find(z => z.id === zone)?.pool_temp || 19;
                const deltaT = Math.max(0, num(poolTargetT) - ambientTemp);
                const thermalLossFactor = (poolCover === 'true' ? 0.5 : 1.0) * num(poolWind);
                const thermalDaily = num(poolVol) * deltaT * 1.16 * thermalLossFactor;
                const thermal = thermalDaily * days;

                const def = POOL_HEAT.find(h => h.key === poolHeatType);
                const eff = def?.scop ? num(poolHpScop, 1) : (def?.eta ? num(poolEta, 0.1) : 1);
                const input = def.key === 'none' ? 0 : (thermal / eff);
                const elecUse = pumpKwh + (def?.priceKey === 'elec' ? input : 0);
                const gasUse = (def?.priceKey === 'gas' ? input : 0);
                const poolCost = elecUse * (pricesKwh.elec || 0) + gasUse * (pricesKwh.gas || 0);
                pool = { kwh: pumpKwh + input, cost: poolCost, elec: elecUse, gas: gasUse };
            }
            
            const elecHeatingInput = (mainDef?.priceKey === 'elec' ? mainInput : 0) + (auxDef?.priceKey === 'elec' ? auxInput : 0);
            const elecDhwInput = (dhwDef?.priceKey === 'elec') ? dhwInput : 0;
            const elecTotalGross = elecHeatingInput + elecDhwInput + applKwh + evKwhYear + pool.elec;
            const elecNet = Math.max(0, elecTotalGross - pvSelf);
            const pvSelfValue = pvSelf * (pricesKwh.elec || 0);

            const nonElecHeatingCost = (mainDef?.priceKey !== 'elec' ? mainCost : 0) + (auxDef?.priceKey !== 'elec' ? auxCost : 0);
            const nonElecDhwCost = (dhwDef?.priceKey !== 'elec' ? dhwCost : 0);
            const nonElecPoolCost = pool.gas * (pricesKwh.gas || 0);
            
            const totalCost = (elecNet * pricesKwh.elec) + nonElecHeatingCost + nonElecDhwCost + nonElecPoolCost;

            return {
                totalCost, perMonth: totalCost / 12,
                heatDemand,
                costs: { verwarming: mainCost + auxCost, tapwater: dhwCost, apparaten: applKwh * pricesKwh.elec, ev: evKwhYear * pricesKwh.elec, zwembad: pool.cost, pvWaarde: -pvSelfValue },
                verbruik: { nettoElec: elecNet, brutoElec: elecTotalGross, pvEigen: pvSelf, warmte: mainInput + auxInput, tapwater: dhwInput, overig: applKwh + evKwhYear + pool.kwh },
                debug: { heatDemand, mainFrac, auxFrac, mainEff, mainInput, auxInput, elecHeatingInput, elecTotalGross, pvSelf, elecNet, totalCost, UA, Vloss }
            };
        }, [ zone, setpoint, wallA, wallU, roofA, roofU, floorA, floorU, winA, winU, volume, ach, warmupPct, userPrices, mainType, mainScop, mainEta, auxType, auxSharePreset, auxShareCustom, auxScop, auxEta, pvKwp, pvSelfUse, dhwType, dhwScop, dhwEta, showers, litersPer, coldT, hotT, appls, evKmWeek, evKwh100, evLoss, poolHas, poolVol, poolTargetT, poolSeason, poolHeatType, poolHpScop, poolEta, poolPumpW, poolPumpH, poolCover, poolWind ]);
        
        const Select = ({ label, value, onChange, options, tooltip }) => (
            <div>
                <label className="block text-sm font-medium text-gray-700 mb-1 flex items-center gap-1">{label} {tooltip && <Tooltip text={tooltip} />}</label>
                <select value={value} onChange={e => onChange(e.target.value)} className="w-full p-2 border-gray-300 border rounded-md text-sm">
                    {options.map(o => <option key={o.key ?? o.id ?? o.value} value={o.key ?? o.id ?? o.value}>{o.label ?? o.name}</option>)}
                </select>
            </div>
        );

        const SummaryCard = ({ title, value, unit, children }) => (
            <div className="bg-gray-50 p-3 rounded-lg border border-gray-200">
                <div className="text-xs text-gray-600">{title}</div>
                <div className="text-xl font-bold text-[var(--brand-color)]">{fmt.format(value)} <span className="text-sm font-normal text-gray-500">{unit}</span></div>
                {children && <div className="text-xs text-gray-500 mt-1">{children}</div>}
            </div>
        );
        
        const PdfContent = () => (
          <div ref={pdfSummaryRef} className="p-8 bg-white text-black">
              <h2 className="text-2xl font-bold mb-6 text-black">Samenvatting Energiecalculator</h2>
              <div className="grid grid-cols-2 gap-x-8 gap-y-3 text-sm">
                  <div className="col-span-2 border-t pt-3 space-y-1">
                      <h3 className="text-lg font-semibold text-black">Resultaten</h3>
                      <p><b>Totale Jaarkosten:</b> {money(results.totalCost)}</p>
                      <p><b>Warmtevraag:</b> {fmt.format(results.heatDemand)} kWh/jaar</p>
                      <p><b>Netto Elektra van Net:</b> {fmt.format(results.verbruik.nettoElec)} kWh/jaar</p>
                  </div>
                  <div className="col-span-2 border-t pt-3 space-y-1">
                      <h3 className="text-lg font-semibold text-black">Invoer</h3>
                      <p><b>Klimaatzone:</b> {ZONES.find(z => z.id === zone)?.name || 'n/a'}</p>
                      <p><b>Hoofdverwarming:</b> {HEAT_MAIN.find(h => h.key === mainType)?.label || 'n/a'}</p>
                  </div>
                  <div className="col-span-2 border-t pt-3">
                      <h3 className="text-lg font-semibold text-black">Isolatie (U-waarden)</h3>
                      <p>Muur: {num(wallU)} | Dak: {num(roofU)} | Vloer: {num(floorU)} | Ramen: {num(winU)}</p>
                  </div>
              </div>
          </div>
        );

        return (
            <div className="pb-24">
                <header className="bg-white border-b border-gray-200 p-4 no-print">
                    <div className="max-w-7xl mx-auto flex justify-between items-center">
                      <div>
                        <h1 className="text-2xl font-bold text-[var(--brand-color)]">Energie- & Kostencalculator Frankrijk</h1>
                        <p className="text-gray-600">Een compleet model voor uw woning: van isolatie tot zonnepanelen.</p>
                      </div>
                      <button onClick={() => window.print()} className="bg-[var(--brand-color)] text-white px-4 py-2 rounded-lg font-semibold flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" className="w-5 h-5"><path fillRule="evenodd" d="M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.095.74.254 1.075.474v-4.276A3.25 3.25 0 0013.25 0h-6.5A3.25 3.25 0 003.5 3.25v13.5A3.25 3.25 0 006.75 20h6.5a3.25 3.25 0 003.25-3.25v-4.276a2.25 2.25 0 01-1.075.474v3.552A1.75 1.75 0 0113.25 18h-6.5A1.75 1.75 0 015 16.25v-13.5z" clipRule="evenodd" /><path fillRule="evenodd" d="M10.5 7.06v-1.81a.75.75 0 00-1.5 0v1.81a.75.75 0 001.5 0zM10.5 10.06v4.19a.75.75 0 001.5 0v-4.19a.75.75 0 00-1.5 0zM10.5 17.06v-1.81a.75.75 0 00-1.5 0v1.81a.75.75 0 001.5 0z" clipRule="evenodd" /></svg>
                        Download / Print Samenvatting
                      </button>
                    </div>
                </header>

                <main className="max-w-7xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div className="lg:col-span-2 space-y-4">
                        <AccordionSection number={1} title="Klimaat & Woning" icon={<Icon path={icons.building} />} initiallyOpen={true}>
                          {/* content... */}
                        </AccordionSection>
                        {/* other accordion sections... */}
                    </div>

                    <div className="lg:col-span-1 space-y-4 lg:sticky top-4 self-start no-print">
                      {/* summary cards... */}
                    </div>
                </main>
                
                <div className="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm border-t border-gray-200 p-3 no-print shadow-[0_-4px_12px_rgba(0,0,0,0.06)] z-10">
                    <div className="max-w-7xl mx-auto flex items-center justify-center lg:justify-end">
                        <div className="text-center">
                            <div className="text-sm text-gray-600">Totale Jaarkosten</div>
                            <div className="text-2xl font-bold text-[var(--brand-color)]">{money(results.totalCost)}</div>
                        </div>
                    </div>
                </div>
                
                <div id="pdf-summary">
                  <PdfContent />
                </div>
            </div>
        );
    }

    ReactDOM.createRoot(document.getElementById('app')).render(<App />);
  </script>
</body>
</html>