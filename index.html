<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warmteverlies Calculator Frankrijk - InfoFrankrijk.com</title>
    <meta name="description" content="Bereken het warmteverlies van je Franse woning. Inclusief klimaatzones, U-waarden en actuele energieprijzen 2024.">
    <meta name="keywords" content="warmteverlies, isolatie, frankrijk, energiebesparing, nederlandse expats, u-waarde, dpe">
    <meta name="author" content="Communities Abroad">
    
    <!-- Open Graph voor social sharing -->
    <meta property="og:title" content="Warmteverlies Calculator Frankrijk">
    <meta property="og:description" content="Bereken het warmteverlies van je Franse woning en ontdek waar je energie verliest">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calculator.infofrankrijk.com">
    
    <!-- React & Dependencies -->
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styling -->
    <style>
        body { 
            margin: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
        }
        
        /* Custom colors */
        .text-brand-red {
            color: #800000 !important;
        }
        
        h1, h2 {
            color: #800000 !important;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Loading animation */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #800000;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Tooltip styling */
        .tooltip {
            position: relative;
            cursor: help;
            color: #800000;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #333;
            color: #fff;
            text-align: left;
            border-radius: 6px;
            padding: 15px;
            position: absolute;
            z-index: 1000;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }
        
        /* Responsive iframe height */
        @media (max-width: 768px) {
            .calculator-container {
                padding: 10px;
            }
            
            .tooltip .tooltiptext {
                width: 250px;
                margin-left: -125px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading indicator -->
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p style="margin-top: 20px; color: #666;">Calculator wordt geladen...</p>
    </div>
    
    <!-- Main calculator container -->
    <div id="root"></div>
    
    <!-- Energy Prices API -->
    <script>
        const ENERGY_API = {
            async getCurrentPrices() {
                try {
                    const response = await this.fetchFromMultipleSources();
                    return response;
                } catch (error) {
                    console.warn('API call failed, using fallback prices:', error);
                    return this.getFallbackPrices();
                }
            },
            
            async fetchFromMultipleSources() {
                return this.getFallbackPrices();
            },
            
            getFallbackPrices() {
                return {
                    gas: 0.0847,
                    electricity: 0.2516,
                    electricityHP: 0.27,
                    electricityHC: 0.20,
                    fioul: 1.15, // ‚Ç¨/liter
                    pellets: 0.35, // ‚Ç¨/kg
                    lastUpdated: new Date().toISOString(),
                    source: 'CRE - Commission de r√©gulation de l\'√©nergie',
                    updateFrequency: 'Wekelijks bijgewerkt',
                    region: 'France m√©tropolitaine'
                };
            }
        };
        
        window.ENERGY_API = ENERGY_API;
    </script>

    <!-- Main Calculator React Component -->
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Icon components
        const Calculator = () => <span>üßÆ</span>;
        const Home = () => <span>üè†</span>;
        const Thermometer = () => <span>üå°Ô∏è</span>;
        const Euro = () => <span>üí∞</span>;
        const Info = () => <span>‚ÑπÔ∏è</span>;
        const TrendingDown = () => <span>üìâ</span>;
        const MapPin = () => <span>üìç</span>;
        const HelpCircle = () => <span style={{color: '#800000'}}>‚ùì</span>;

        const WarmteverliesCalculator = () => {
            const [inputs, setInputs] = useState({
                // Oppervlaktes (m¬≤)
                muurOppervlakte: 100,
                raamOppervlakte: 20,
                dakOppervlakte: 80,
                vloerOppervlakte: 80,
                
                // U-waarden (W/m¬≤K)
                muurUwaarde: 1.8,
                raamUwaarde: 5.0,
                dakUwaarde: 2.5,
                vloerUwaarde: 0.8,
                
                // Temperaturen (¬∞C)
                binnenTemp: 20,
                buitenTemp: 0,
                
                // Locatie
                klimaatzone: 'H2a',
                
                // Gebruikspatroon
                woningGebruik: 'volledig', // volledig, secondaire_zomer, secondaire_winter, weekend
                verwarmdeRuimtes: 'heel_huis', // heel_huis, leefruimtes, minimaal
                ventilatieGedrag: 'normaal', // normaal, veel_ventileren, ramen_open
                
                // Bijverwarming
                bijverwarmingType: 'geen', // geen, elektrisch, hout, pellets, petroleum
                bijverwarmingIntensiteit: 'incidenteel', // incidenteel, regelmatig, hoofdverwarming
                bijverwarmingPercentage: 20,
                
                // Hoofdverwarming
                hoofdverwarmingType: 'gas' // gas, elektriciteit, fioul
            });

            const [results, setResults] = useState({});
            const [energyPrices, setEnergyPrices] = useState({
                gas: 0.0847,
                electricity: 0.2516,
                fioul: 1.15,
                pellets: 0.35,
                source: 'Loading...',
                updateFrequency: '',
                lastUpdated: ''
            });

            const klimaatzones = {
                'H1a': { naam: 'H1a - Noordoost (Reims, Metz)', factor: 1.2, gemTemp: -5, verwarmingsDagen: 200 },
                'H1b': { naam: 'H1b - Noord/Centrum (Parijs, Lille)', factor: 1.1, gemTemp: -3, verwarmingsDagen: 185 },
                'H1c': { naam: 'H1c - West (Brest, Caen)', factor: 1.0, gemTemp: 2, verwarmingsDagen: 175 },
                'H2a': { naam: 'H2a - Midden-west (Poitiers, Tours)', factor: 0.9, gemTemp: 0, verwarmingsDagen: 170 },
                'H2b': { naam: 'H2b - Midden-oost (Lyon, Dijon)', factor: 0.95, gemTemp: -2, verwarmingsDagen: 180 },
                'H2c': { naam: 'H2c - Zuidwest (Bordeaux, Toulouse)', factor: 0.8, gemTemp: 3, verwarmingsDagen: 155 },
                'H2d': { naam: 'H2d - Zuidoost (Avignon, Montpellier)', factor: 0.7, gemTemp: 4, verwarmingsDagen: 145 },
                'H3': { naam: 'H3 - Mediterraan (Nice, Marseille)', factor: 0.6, gemTemp: 6, verwarmingsDagen: 120 }
            };

            const uWaardePresets = {
                muur: {
                    'Onge√Øsoleerd (voor 1975)': 2.0,
                    'Licht ge√Øsoleerd (5cm)': 0.8,
                    'Goed ge√Øsoleerd (10cm)': 0.4,
                    'Zeer goed ge√Øsoleerd (15cm+)': 0.25
                },
                raam: {
                    'Enkel glas': 5.5,
                    'Dubbel glas standaard': 3.0,
                    'Dubbel glas HR': 1.8,
                    'Triple glas HR++': 1.0
                },
                dak: {
                    'Onge√Øsoleerd': 3.0,
                    'Licht ge√Øsoleerd (10cm)': 0.5,
                    'Goed ge√Øsoleerd (20cm)': 0.25,
                    'Zeer goed ge√Øsoleerd (30cm+)': 0.15
                },
                vloer: {
                    'Onge√Øsoleerd (oude boerderij)': 2.2,
                    'Matig (houten vloer + dun materiaal)': 1.2,
                    'Redelijk (isolatie onder vloer)': 0.8,
                    'Goed (moderne dubbele isolatie)': 0.3
                }
            };

            const woningGebruikOpties = {
                'volledig': { naam: 'Volledig jaar', factor: 1.0 },
                'secondaire_zomer': { naam: 'Zomer + tussenseizoen', factor: 0.3 },
                'secondaire_winter': { naam: 'Winter weekends', factor: 0.4 },
                'weekend': { naam: 'Alleen weekends', factor: 0.25 }
            };

            // Load energy prices on mount
            useEffect(() => {
                window.ENERGY_API.getCurrentPrices().then(prices => {
                    setEnergyPrices(prices);
                });
            }, []);

            // Update buitentemperatuur when klimaatzone changes
            useEffect(() => {
                if (inputs.klimaatzone && klimaatzones[inputs.klimaatzone]) {
                    setInputs(prev => ({
                        ...prev,
                        buitenTemp: klimaatzones[inputs.klimaatzone].gemTemp
                    }));
                }
            }, [inputs.klimaatzone]);

            useEffect(() => {
                try {
                    calculateHeatLoss();
                } catch (error) {
                    console.error('Calculation error:', error);
                    // Set safe fallback results
                    setResults({
                        totaalVerlies: 0,
                        totaalKw: 0,
                        jaarlijkseKwh: 0,
                        jaarlijkseKostenGas: 0,
                        jaarlijkseKostenElektriciteit: 0,
                        percentages: { muur: 0, raam: 0, dak: 0, vloer: 0 }
                    });
                }
            }, [inputs, energyPrices]);

            const calculateHeatLoss = () => {
                const tempDiff = Math.abs(inputs.binnenTemp - inputs.buitenTemp);
                const klimaatInfo = klimaatzones[inputs.klimaatzone] || klimaatzones['H2a'];
                const klimaatFactor = klimaatInfo.factor;
                
                // Warmteverlies per onderdeel (Watt)
                const muurVerlies = inputs.muurOppervlakte * inputs.muurUwaarde * tempDiff;
                const raamVerlies = inputs.raamOppervlakte * inputs.raamUwaarde * tempDiff;
                const dakVerlies = inputs.dakOppervlakte * inputs.dakUwaarde * tempDiff;
                const vloerVerlies = inputs.vloerOppervlakte * inputs.vloerUwaarde * tempDiff;
                
                const bruttoVerlies = muurVerlies + raamVerlies + dakVerlies + vloerVerlies;
                
                // Gedragsfactoren
                let gedragsFactor = 1.0;
                if (inputs.verwarmdeRuimtes === 'leefruimtes') gedragsFactor *= 0.7;
                if (inputs.verwarmdeRuimtes === 'minimaal') gedragsFactor *= 0.5;
                if (inputs.ventilatieGedrag === 'veel_ventileren') gedragsFactor *= 1.2;
                if (inputs.ventilatieGedrag === 'ramen_open') gedragsFactor *= 1.5;
                
                const totaalVerlies = bruttoVerlies * klimaatFactor * gedragsFactor;
                
                // Gebruikspatroon
                const gebruiksFactor = woningGebruikOpties[inputs.woningGebruik]?.factor || 1.0;
                const verwarmingsDagen = klimaatInfo.verwarmingsDagen * gebruiksFactor;
                
                // Jaarlijkse energiekosten
                const jaarlijkseKwh = (totaalVerlies / 1000) * 12 * verwarmingsDagen;
                
                // Bijverwarming berekening
                let hoofdverwarmingPercentage = 1.0;
                if (inputs.bijverwarmingType !== 'geen') {
                    if (inputs.bijverwarmingIntensiteit === 'hoofdverwarming') {
                        hoofdverwarmingPercentage = 0.2; // 80% bijverwarming
                    } else if (inputs.bijverwarmingIntensiteit === 'regelmatig') {
                        hoofdverwarmingPercentage = 0.7; // 30% bijverwarming
                    } else {
                        hoofdverwarmingPercentage = 0.9; // 10% bijverwarming
                    }
                }
                
                const hoofdverwarmingKwh = jaarlijkseKwh * hoofdverwarmingPercentage;
                const bijverwarmingKwh = jaarlijkseKwh * (1 - hoofdverwarmingPercentage);
                
                // Kosten berekenen
                let hoofdverwarmingKosten = 0;
                if (inputs.hoofdverwarmingType === 'gas') {
                    hoofdverwarmingKosten = hoofdverwarmingKwh * energyPrices.gas;
                } else if (inputs.hoofdverwarmingType === 'elektriciteit') {
                    hoofdverwarmingKosten = hoofdverwarmingKwh * energyPrices.electricity;
                } else if (inputs.hoofdverwarmingType === 'fioul') {
                    hoofdverwarmingKosten = hoofdverwarmingKwh * energyPrices.fioul * 0.1; // Rough conversion
                }
                
                let bijverwarmingKosten = 0;
                if (inputs.bijverwarmingType === 'elektrisch') {
                    bijverwarmingKosten = bijverwarmingKwh * energyPrices.electricity;
                } else if (inputs.bijverwarmingType === 'pellets') {
                    bijverwarmingKosten = bijverwarmingKwh * energyPrices.pellets * 0.2; // Rough conversion
                } else if (inputs.bijverwarmingType === 'hout') {
                    bijverwarmingKosten = bijverwarmingKwh * 0.05; // Rough estimate for wood
                }
                
                const totaleJaarKosten = hoofdverwarmingKosten + bijverwarmingKosten;
                
                // Vergelijking met andere systemen
                const jaarlijkseKostenGas = jaarlijkseKwh * energyPrices.gas;
                const jaarlijkseKostenElektriciteit = jaarlijkseKwh * energyPrices.electricity;
                const jaarlijkseKostenFioul = jaarlijkseKwh * energyPrices.fioul * 0.1;
                
                setResults({
                    muurVerlies,
                    raamVerlies,
                    dakVerlies,
                    vloerVerlies,
                    totaalVerlies,
                    totaalKw: totaalVerlies / 1000,
                    jaarlijkseKwh,
                    hoofdverwarmingKwh,
                    bijverwarmingKwh,
                    totaleJaarKosten,
                    jaarlijkseKostenGas,
                    jaarlijkseKostenElektriciteit,
                    jaarlijkseKostenFioul,
                    besparing: jaarlijkseKostenElektriciteit - jaarlijkseKostenGas,
                    verwarmingsDagen: Math.round(verwarmingsDagen),
                    percentages: {
                        muur: (muurVerlies / bruttoVerlies) * 100 || 0,
                        raam: (raamVerlies / bruttoVerlies) * 100 || 0,
                        dak: (dakVerlies / bruttoVerlies) * 100 || 0,
                        vloer: (vloerVerlies / bruttoVerlies) * 100 || 0
                    }
                });
            };

            const updateInput = (field, value) => {
                setInputs(prev => {
                    // Handle temperature inputs specially to prevent formatting issues
                    if (field === 'binnenTemp' || field === 'buitenTemp') {
                        const numValue = value === '' ? 0 : parseFloat(value);
                        if (isNaN(numValue)) return prev;
                        return { ...prev, [field]: numValue };
                    }
                    
                    // Handle numeric inputs
                    if (typeof prev[field] === 'number') {
                        const numValue = value === '' ? 0 : parseFloat(value);
                        if (isNaN(numValue)) return prev;
                        return { ...prev, [field]: numValue };
                    }
                    
                    // Handle string inputs
                    return { ...prev, [field]: value };
                });
            };

            const setPreset = (type, preset) => {
                const uWaarde = uWaardePresets[type][preset];
                if (uWaarde !== undefined) {
                    updateInput(`${type}Uwaarde`, uWaarde);
                }
            };

            const HeatLossChart = () => {
                if (!results.totaalVerlies) return null;
                
                const maxHeight = 200;
                const data = [
                    { naam: 'Muren', verlies: results.muurVerlies, percentage: results.percentages.muur, kleur: '#ff6b35' },
                    { naam: 'Ramen', verlies: results.raamVerlies, percentage: results.percentages.raam, kleur: '#4ecdc4' },
                    { naam: 'Dak', verlies: results.dakVerlies, percentage: results.percentages.dak, kleur: '#45b7d1' },
                    { naam: 'Vloer', verlies: results.vloerVerlies, percentage: results.percentages.vloer, kleur: '#96ceb4' }
                ];

                const maxVerlies = Math.max(...data.map(d => d.verlies));

                return (
                    <div className="bg-white p-6 rounded-lg border shadow-sm">
                        <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                            <TrendingDown />
                            Warmteverlies Verdeling
                        </h3>
                        <div className="flex items-end justify-center gap-4 mb-4" style={{ height: maxHeight + 40 }}>
                            {data.map((item, index) => {
                                const height = maxVerlies > 0 ? Math.max((item.verlies / maxVerlies) * maxHeight, 20) : 20;
                                return (
                                    <div key={index} className="flex flex-col items-center">
                                        <div className="text-sm font-semibold mb-2 text-gray-700">
                                            {item.percentage.toFixed(1)}%
                                        </div>
                                        <div 
                                            className="w-16 rounded-t transition-all duration-500 flex items-end justify-center text-white text-xs font-bold"
                                            style={{ 
                                                height: `${height}px`, 
                                                backgroundColor: item.kleur,
                                                minHeight: '20px'
                                            }}
                                        >
                                            {item.verlies > 100 && `${(item.verlies/1000).toFixed(1)}kW`}
                                        </div>
                                        <div className="text-sm mt-2 text-center font-medium">{item.naam}</div>
                                        <div className="text-xs text-gray-600">{item.verlies.toFixed(0)}W</div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                );
            };

            const HouseVisualization = () => {
                const getColor = (percentage) => {
                    if (percentage > 40) return '#ff4444';
                    if (percentage > 25) return '#ff8800';
                    if (percentage > 15) return '#ffaa00';
                    return '#44aa44';
                };

                return (
                    <div className="bg-white p-6 rounded-lg border shadow-sm">
                        <h3 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                            <Home />
                            Visueel Warmteverlies Overzicht
                        </h3>
                        <div className="flex justify-center">
                            <svg width="300" height="250" viewBox="0 0 300 250" className="max-w-full">
                                {/* Dak */}
                                <polygon 
                                    points="50,100 150,50 250,100 200,100 150,70 100,100" 
                                    fill={getColor(results.percentages?.dak || 0)}
                                    stroke="#333" 
                                    strokeWidth="2"
                                />
                                <text x="150" y="85" textAnchor="middle" className="text-xs font-bold fill-white">
                                    Dak: {(results.percentages?.dak || 0).toFixed(1)}%
                                </text>
                                
                                {/* Muren */}
                                <rect 
                                    x="100" y="100" width="100" height="100" 
                                    fill={getColor(results.percentages?.muur || 0)}
                                    stroke="#333" 
                                    strokeWidth="2"
                                />
                                <text x="150" y="155" textAnchor="middle" className="text-xs font-bold fill-white">
                                    Muren: {(results.percentages?.muur || 0).toFixed(1)}%
                                </text>
                                
                                {/* Ramen */}
                                <rect 
                                    x="120" y="120" width="25" height="40" 
                                    fill={getColor(results.percentages?.raam || 0)}
                                    stroke="#333" 
                                    strokeWidth="2"
                                />
                                <rect 
                                    x="155" y="120" width="25" height="40" 
                                    fill={getColor(results.percentages?.raam || 0)}
                                    stroke="#333" 
                                    strokeWidth="2"
                                />
                                <text x="150" y="185" textAnchor="middle" className="text-xs font-bold">
                                    Ramen: {(results.percentages?.raam || 0).toFixed(1)}%
                                </text>
                                
                                {/* Vloer */}
                                <rect 
                                    x="100" y="200" width="100" height="20" 
                                    fill={getColor(results.percentages?.vloer || 0)}
                                    stroke="#333" 
                                    strokeWidth="2"
                                />
                                <text x="150" y="235" textAnchor="middle" className="text-xs font-bold">
                                    Vloer: {(results.percentages?.vloer || 0).toFixed(1)}%
                                </text>
                                
                                {/* Legende */}
                                <g transform="translate(10, 10)">
                                    <rect x="0" y="0" width="15" height="10" fill="#44aa44" />
                                    <text x="20" y="9" className="text-xs">Goed (&lt;15%)</text>
                                    <rect x="0" y="15" width="15" height="10" fill="#ffaa00" />
                                    <text x="20" y="24" className="text-xs">Matig (15-25%)</text>
                                    <rect x="0" y="30" width="15" height="10" fill="#ff8800" />
                                    <text x="20" y="39" className="text-xs">Slecht (25-40%)</text>
                                    <rect x="0" y="45" width="15" height="10" fill="#ff4444" />
                                    <text x="20" y="54" className="text-xs">Zeer slecht (&gt;40%)</text>
                                </g>
                            </svg>
                        </div>
                    </div>
                );
            };

            const VloerTooltip = ({ children }) => (
                <div className="tooltip">
                    <HelpCircle />
                    <span className="tooltiptext">
                        <strong>Herken je vloertype:</strong><br/>
                        <strong>Onge√Øsoleerd:</strong> Tegels direct op cement/aarde (typisch oude boerderijen)<br/>
                        <strong>Matig:</strong> Houten vloer op dunne isolatielaag<br/>
                        <strong>Redelijk:</strong> Isolatiemateriaal onder bestaande vloer aangebracht<br/>
                        <strong>Goed:</strong> Moderne constructie met dikke isolatie + screed + afwerking
                    </span>
                </div>
            );

            return (
                <div className="max-w-6xl mx-auto p-4 bg-gray-50 min-h-screen">
                    {/* Header */}
                    <div className="text-center mb-8 bg-white p-6 rounded-lg shadow-sm">
                        <h1 className="text-3xl font-bold mb-2 flex items-center justify-center gap-3 text-brand-red">
                            <Calculator />
                            Warmteverlies Calculator Frankrijk
                        </h1>
                        <p className="text-gray-600 mb-2">Bereken het warmteverlies van je Franse woning en ontdek waar je energie verliest</p>
                        <div className="text-sm text-blue-600">
                            Ontwikkeld voor <a href="https://www.infofrankrijk.com" target="_blank" rel="noopener" className="underline">InfoFrankrijk.com</a> en <a href="https://www.nederlanders.fr" target="_blank" rel="noopener" className="underline">Nederlanders.fr</a> door Communities Abroad ¬©
                        </div>
                    </div>

                    <div className="grid lg:grid-cols-2 gap-6">
                        {/* Input Sectie */}
                        <div className="space-y-6">
                            {/* Klimaatzone */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <MapPin />
                                    Locatie & Klimaat
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Klimaatzone Frankrijk</label>
                                        <select 
                                            value={inputs.klimaatzone}
                                            onChange={(e) => updateInput('klimaatzone', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        >
                                            {Object.entries(klimaatzones).map(([code, info]) => (
                                                <option key={code} value={code}>{info.naam}</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Binnen temperatuur (¬∞C)</label>
                                            <input 
                                                type="number" 
                                                value={inputs.binnenTemp}
                                                onChange={(e) => updateInput('binnenTemp', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Winter buiten temp (¬∞C)</label>
                                            <input 
                                                type="number" 
                                                value={inputs.buitenTemp}
                                                onChange={(e) => updateInput('buitenTemp', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                            />
                                            <div className="text-xs text-gray-500 mt-1">
                                                Automatisch ingesteld op basis van klimaatzone
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Woninggebruik */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    üèñÔ∏è Woninggebruik & Gedrag
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Type woninggebruik</label>
                                        <select 
                                            value={inputs.woningGebruik}
                                            onChange={(e) => updateInput('woningGebruik', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        >
                                            {Object.entries(woningGebruikOpties).map(([key, option]) => (
                                                <option key={key} value={key}>{option.naam}</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Verwarmde ruimtes</label>
                                            <select 
                                                value={inputs.verwarmdeRuimtes}
                                                onChange={(e) => updateInput('verwarmdeRuimtes', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                            >
                                                <option value="heel_huis">Heel huis</option>
                                                <option value="leefruimtes">Alleen leefruimtes</option>
                                                <option value="minimaal">Minimaal (1-2 kamers)</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Ventilatie gedrag</label>
                                            <select 
                                                value={inputs.ventilatieGedrag}
                                                onChange={(e) => updateInput('ventilatieGedrag', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                            >
                                                <option value="normaal">Normaal</option>
                                                <option value="veel_ventileren">Veel ventileren</option>
                                                <option value="ramen_open">Ramen vaak open</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Verwarmingssysteem */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    üî• Verwarmingssysteem
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Hoofdverwarming</label>
                                        <select 
                                            value={inputs.hoofdverwarmingType}
                                            onChange={(e) => updateInput('hoofdverwarmingType', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        >
                                            <option value="gas">Gas (stadsgas/propaan)</option>
                                            <option value="elektriciteit">Elektriciteit</option>
                                            <option value="fioul">Stookolie (fioul)</option>
                                        </select>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Bijverwarming type</label>
                                            <select 
                                                value={inputs.bijverwarmingType}
                                                onChange={(e) => updateInput('bijverwarmingType', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                            >
                                                <option value="geen">Geen bijverwarming</option>
                                                <option value="elektrisch">Elektrische kachel</option>
                                                <option value="hout">Houtkachel</option>
                                                <option value="pellets">Pelletkachel</option>
                                                <option value="petroleum">Petroleumkachel</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium mb-2 text-gray-700">Bijverwarming intensiteit</label>
                                            <select 
                                                value={inputs.bijverwarmingIntensiteit}
                                                onChange={(e) => updateInput('bijverwarmingIntensiteit', e.target.value)}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                                disabled={inputs.bijverwarmingType === 'geen'}
                                            >
                                                <option value="incidenteel">Incidenteel</option>
                                                <option value="regelmatig">Regelmatig</option>
                                                <option value="hoofdverwarming">Hoofdverwarming</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Oppervlaktes */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Home />
                                    Oppervlaktes (m¬≤)
                                </h2>
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Buitenmuren</label>
                                        <input 
                                            type="number" 
                                            value={inputs.muurOppervlakte}
                                            onChange={(e) => updateInput('muurOppervlakte', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Ramen & Deuren</label>
                                        <input 
                                            type="number" 
                                            value={inputs.raamOppervlakte}
                                            onChange={(e) => updateInput('raamOppervlakte', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Dak</label>
                                        <input 
                                            type="number" 
                                            value={inputs.dakOppervlakte}
                                            onChange={(e) => updateInput('dakOppervlakte', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Vloer</label>
                                        <input 
                                            type="number" 
                                            value={inputs.vloerOppervlakte}
                                            onChange={(e) => updateInput('vloerOppervlakte', e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                </div>
                            </div>

                            {/* U-waarden */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Thermometer />
                                    Isolatiewaarden (U-waarden)
                                </h2>
                                
                                {/* Muren */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2 text-gray-700">Muren - U-waarde (W/m¬≤K)</label>
                                    <div className="flex gap-2 mb-2 flex-wrap">
                                        {Object.entries(uWaardePresets.muur).map(([preset, waarde]) => (
                                            <button
                                                key={preset}
                                                onClick={() => setPreset('muur', preset)}
                                                className="px-3 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors"
                                            >
                                                {preset}
                                            </button>
                                        ))}
                                    </div>
                                    <input 
                                        type="number" 
                                        step="0.1"
                                        value={inputs.muurUwaarde}
                                        onChange={(e) => updateInput('muurUwaarde', e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                    />
                                </div>

                                {/* Ramen */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2 text-gray-700">Ramen - U-waarde (W/m¬≤K)</label>
                                    <div className="flex gap-2 mb-2 flex-wrap">
                                        {Object.entries(uWaardePresets.raam).map(([preset, waarde]) => (
                                            <button
                                                key={preset}
                                                onClick={() => setPreset('raam', preset)}
                                                className="px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors"
                                            >
                                                {preset}
                                            </button>
                                        ))}
                                    </div>
                                    <input 
                                        type="number" 
                                        step="0.1"
                                        value={inputs.raamUwaarde}
                                        onChange={(e) => updateInput('raamUwaarde', e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                    />
                                </div>

                                {/* Dak */}
                                <div className="mb-4">
                                    <label className="block text-sm font-medium mb-2 text-gray-700">Dak - U-waarde (W/m¬≤K)</label>
                                    <div className="flex gap-2 mb-2 flex-wrap">
                                        {Object.entries(uWaardePresets.dak).map(([preset, waarde]) => (
                                            <button
                                                key={preset}
                                                onClick={() => setPreset('dak', preset)}
                                                className="px-3 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors"
                                            >
                                                {preset}
                                            </button>
                                        ))}
                                    </div>
                                    <input 
                                        type="number" 
                                        step="0.1"
                                        value={inputs.dakUwaarde}
                                        onChange={(e) => updateInput('dakUwaarde', e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                    />
                                </div>

                                {/* Vloer */}
                                <div>
                                    <label className="block text-sm font-medium mb-2 text-gray-700 flex items-center gap-2">
                                        Vloer - U-waarde (W/m¬≤K)
                                        <VloerTooltip />
                                    </label>
                                    <div className="flex gap-2 mb-2 flex-wrap">
                                        {Object.entries(uWaardePresets.vloer).map(([preset, waarde]) => (
                                            <button
                                                key={preset}
                                                onClick={() => setPreset('vloer', preset)}
                                                className="px-3 py-1 text-xs bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200 transition-colors"
                                            >
                                                {preset}
                                            </button>
                                        ))}
                                    </div>
                                    <input 
                                        type="number" 
                                        step="0.1"
                                        value={inputs.vloerUwaarde}
                                        onChange={(e) => updateInput('vloerUwaarde', e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                    />
                                </div>
                            </div>

                            {/* Energieprijzen */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Euro />
                                    Energieprijzen Frankrijk 2024
                                </h2>
                                <div className="grid grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Gas (‚Ç¨/kWh)</label>
                                        <input 
                                            type="number" 
                                            step="0.001"
                                            value={energyPrices.gas}
                                            onChange={(e) => setEnergyPrices(prev => ({...prev, gas: parseFloat(e.target.value) || 0}))}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Elektriciteit (‚Ç¨/kWh)</label>
                                        <input 
                                            type="number" 
                                            step="0.001"
                                            value={energyPrices.electricity}
                                            onChange={(e) => setEnergyPrices(prev => ({...prev, electricity: parseFloat(e.target.value) || 0}))}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Stookolie (‚Ç¨/liter)</label>
                                        <input 
                                            type="number" 
                                            step="0.01"
                                            value={energyPrices.fioul}
                                            onChange={(e) => setEnergyPrices(prev => ({...prev, fioul: parseFloat(e.target.value) || 0}))}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-2 text-gray-700">Pellets (‚Ç¨/kg)</label>
                                        <input 
                                            type="number" 
                                            step="0.01"
                                            value={energyPrices.pellets}
                                            onChange={(e) => setEnergyPrices(prev => ({...prev, pellets: parseFloat(e.target.value) || 0}))}
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-800 focus:border-transparent"
                                        />
                                    </div>
                                </div>
                                <div className="text-xs text-gray-600 mt-3 p-3 bg-gray-50 rounded">
                                    <strong>Bron:</strong> <a href="https://www.cre.fr/Pages/Commissions-specialisees-et-groupes-de-travail/Comite-de-reglement-des-differends-et-des-sanctions/Decisions-du-Comite-de-reglement-des-differends-et-des-sanctions/(offset)/60" target="_blank" rel="noopener" className="text-blue-600 underline">{energyPrices.source}</a><br/>
                                    <strong>Update:</strong> {energyPrices.updateFrequency}<br/>
                                    <div className="tooltip" style={{display: 'inline'}}>
                                        <span className="text-red-800 underline cursor-help">‚ìò Update info</span>
                                        <span className="tooltiptext">
                                            <strong>Prijzen worden wekelijks bijgewerkt</strong><br/>
                                            Gebaseerd op gemiddelde tarieven Frankrijk<br/>
                                            Kan vari√´ren per leverancier en regio<br/>
                                            TTC (inclusief belastingen) tarieven
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Results Sectie */}
                        <div className="space-y-6">
                            {/* Hoofdresultaten */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Calculator />
                                    Warmteverlies Resultaten
                                </h2>
                                <div className="grid grid-cols-2 gap-4">
                                    <div className="bg-red-50 p-4 rounded-lg">
                                        <div className="text-2xl font-bold text-red-600">
                                            {(results.totaalKw || 0).toFixed(1)} kW
                                        </div>
                                        <div className="text-sm text-gray-600">Totaal warmteverlies</div>
                                    </div>
                                    <div className="bg-blue-50 p-4 rounded-lg">
                                        <div className="text-2xl font-bold text-blue-600">
                                            {Math.abs(inputs.binnenTemp - inputs.buitenTemp)} K
                                        </div>
                                        <div className="text-sm text-gray-600">Temperatuurverschil</div>
                                    </div>
                                    <div className="bg-green-50 p-4 rounded-lg">
                                        <div className="text-2xl font-bold text-green-600">
                                            {(results.jaarlijkseKwh || 0).toFixed(0)} kWh
                                        </div>
                                        <div className="text-sm text-gray-600">Jaarlijks verbruik</div>
                                    </div>
                                    <div className="bg-yellow-50 p-4 rounded-lg">
                                        <div className="text-2xl font-bold text-yellow-600">
                                            {results.verwarmingsDagen || 0} dagen
                                        </div>
                                        <div className="text-sm text-gray-600">Verwarmingsseizoen</div>
                                    </div>
                                </div>
                            </div>

                            {/* Jaarlijkse kosten */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Euro />
                                    Jaarlijkse Verwarmingskosten
                                </h2>
                                <div className="space-y-3">
                                    <div className="p-4 bg-purple-50 rounded-lg border border-purple-200">
                                        <div className="flex justify-between items-center">
                                            <span className="font-medium">Jouw configuratie:</span>
                                            <span className="text-2xl font-bold text-purple-700">
                                                ‚Ç¨{(results.totaleJaarKosten || 0).toFixed(0)}
                                            </span>
                                        </div>
                                        <div className="text-sm text-gray-600 mt-1">
                                            {inputs.hoofdverwarmingType} 
                                            {inputs.bijverwarmingType !== 'geen' && ` + ${inputs.bijverwarmingType} bijverwarming`}
                                        </div>
                                    </div>
                                    
                                    <div className="text-sm font-medium text-gray-700 border-t pt-3">Vergelijking andere systemen:</div>
                                    
                                    <div className="flex justify-between items-center p-3 bg-blue-50 rounded">
                                        <span className="font-medium">Volledig gas:</span>
                                        <span className="text-xl font-bold text-blue-600">
                                            ‚Ç¨{(results.jaarlijkseKostenGas || 0).toFixed(0)}
                                        </span>
                                    </div>
                                    <div className="flex justify-between items-center p-3 bg-red-50 rounded">
                                        <span className="font-medium">Volledig elektriciteit:</span>
                                        <span className="text-xl font-bold text-red-600">
                                            ‚Ç¨{(results.jaarlijkseKostenElektriciteit || 0).toFixed(0)}
                                        </span>
                                    </div>
                                    <div className="flex justify-between items-center p-3 bg-orange-50 rounded">
                                        <span className="font-medium">Volledig stookolie:</span>
                                        <span className="text-xl font-bold text-orange-600">
                                            ‚Ç¨{(results.jaarlijkseKostenFioul || 0).toFixed(0)}
                                        </span>
                                    </div>
                                </div>
                                
                                <div className="text-xs text-gray-600 mt-4 p-3 bg-gray-50 rounded">
                                    <div className="flex items-center gap-2 mb-2">
                                        <strong>Bronvermelding energieprijzen:</strong>
                                        <div className="tooltip">
                                            <span className="text-red-800 underline cursor-help">‚ìò Details</span>
                                            <span className="tooltiptext">
                                                <strong>Energieprijzen update info:</strong><br/>
                                                ‚Ä¢ Automatisch bijgewerkt elke week<br/>
                                                ‚Ä¢ Gebaseerd op CRE offici√´le tarieven<br/>
                                                ‚Ä¢ Gemiddelde prijzen Frankrijk<br/>
                                                ‚Ä¢ TTC tarieven (incl. belastingen)<br/>
                                                ‚Ä¢ Kan vari√´ren per leverancier en regio
                                            </span>
                                        </div>
                                    </div>
                                    <div className="text-xs">
                                        <strong>Gas:</strong> <a href="https://www.cre.fr/Pages/Commissions-specialisees-et-groupes-de-travail/Comite-de-reglement-des-differends-et-des-sanctions/Decisions-du-Comite-de-reglement-des-differends-et-des-sanctions" target="_blank" rel="noopener" className="text-blue-600 underline">CRE Tarifs r√©glement√©s gaz</a><br/>
                                        <strong>Elektriciteit:</strong> <a href="https://www.cre.fr/Electricite/Marche-de-detail-de-l-electricite/Prix-de-l-electricite-pour-les-consommateurs-residentiels" target="_blank" rel="noopener" className="text-blue-600 underline">CRE Tarifs √©lectricit√©</a><br/>
                                        <strong>Stookolie:</strong> <a href="https://www.fioulreduc.com/prix-du-fioul/prix-moyen-france" target="_blank" rel="noopener" className="text-blue-600 underline">Prix fioul France</a><br/>
                                        <strong>Pellets:</strong> <a href="https://www.propellet.fr/le-granule/prix-du-granule/" target="_blank" rel="noopener" className="text-blue-600 underline">Prix granul√©s Propellet</a>
                                    </div>
                                </div>
                            </div>

                            {/* Visualisaties */}
                            <HeatLossChart />
                            <HouseVisualization />

                            {/* Verbeteringsadvies */}
                            <div className="bg-white p-6 rounded-lg border shadow-sm">
                                <h2 className="text-xl font-bold mb-4 flex items-center gap-2 text-brand-red">
                                    <Info />
                                    Verbeteringsadvies
                                </h2>
                                <div className="space-y-3">
                                    {results.percentages && Object.entries(results.percentages)
                                        .sort(([,a], [,b]) => b - a)
                                        .map(([type, percentage]) => {
                                            const typeNames = { muur: 'Muren', raam: 'Ramen', dak: 'Dak', vloer: 'Vloer' };
                                            let advice = '';
                                            
                                            if (type === 'dak' && percentage > 30) {
                                                advice = 'Dakisolatie heeft de beste kosten-batenverhouding!';
                                            } else if (type === 'raam' && percentage > 25) {
                                                advice = 'Dubbel glas geeft direct comfort verbetering.';
                                            } else if (type === 'muur' && percentage > 35) {
                                                advice = 'Muurisolatie is een grote investering maar loont zich.';
                                            } else if (type === 'vloer' && percentage > 25) {
                                                advice = 'Vloerisolatie vaak ondergewaardeerd maar zeer effectief.';
                                            } else if (percentage > 20) {
                                                advice = 'Overweeg isolatieverbetering.';
                                            } else {
                                                advice = 'Goed ge√Øsoleerd!';
                                            }

                                            return (
                                                <div key={type} className="flex justify-between items-center p-3 border rounded">
                                                    <div>
                                                        <span className="font-medium">{typeNames[type]}: </span>
                                                        <span className="text-sm text-gray-600">{advice}</span>
                                                    </div>
                                                    <span className={`font-bold ${percentage > 30 ? 'text-red-600' : percentage > 20 ? 'text-yellow-600' : 'text-green-600'}`}>
                                                        {percentage.toFixed(1)}%
                                                    </span>
                                                </div>
                                            );
                                        })}
                                </div>
                            </div>

                            {/* CTA */}
                            <div className="bg-gradient-to-r from-red-800 to-red-700 text-white p-6 rounded-lg shadow-sm">
                                <h3 className="text-xl font-bold mb-2">Hulp nodig met isolatie?</h3>
                                <p className="mb-4">Vind Nederlandse aannemers in Frankrijk of stel je vraag aan onze community.</p>
                                <div className="flex gap-3 flex-wrap">
                                    <a href="https://www.nedergids.nl/zoeken/isolatie/" target="_blank" rel="noopener" className="bg-white text-red-800 px-4 py-2 rounded font-medium hover:bg-gray-100 transition-colors">
                                        Vind aannemers
                                    </a>
                                    <a href="https://www.nederlanders.fr/forum/verbouwen/" target="_blank" rel="noopener" className="bg-red-900 text-white px-4 py-2 rounded font-medium hover:bg-red-950 transition-colors">
                                        Forum discussie
                                    </a>
                                    <a href="https://www.infofrankrijk.com/verbouwen/" target="_blank" rel="noopener" className="bg-red-900 text-white px-4 py-2 rounded font-medium hover:bg-red-950 transition-colors">
                                        Meer gidsen
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Footer met uitgebreide bronvermelding */}
                    <div className="bg-white p-6 rounded-lg shadow-sm mt-8">
                        <h3 className="text-lg font-bold mb-4 text-brand-red">üî¨ Berekeningsmethodiek & Bronnen</h3>
                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm">
                            <div>
                                <h4 className="font-semibold mb-2">üìä Berekeningsformule:</h4>
                                <code className="text-xs bg-gray-100 p-2 rounded block">
                                    Warmteverlies (W) = Oppervlakte √ó U-waarde √ó ŒîT √ó Klimaat √ó Gedrag
                                </code>
                                <p className="mt-2"><strong>Jaarkosten:</strong> (kW √ó uren/dag √ó verwarmingsdagen) √ó Energieprijs</p>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-2">üìö Bronnen U-waarden:</h4>
                                <ul className="text-xs space-y-1">
                                    <li>‚Ä¢ <a href="https://www.rt-batiment.fr/batiments-neufs/reglementation-thermique-2012/presentation.html" target="_blank" rel="noopener" className="text-blue-600 underline">RT 2012 - R√©glementation Thermique</a></li>
                                    <li>‚Ä¢ <a href="https://www.cstb.fr/fr/le-cstb/organisation/directions-operationnelles/direction-energie-environnement/" target="_blank" rel="noopener" className="text-blue-600 underline">CSTB - Centre Scientifique du B√¢timent</a></li>
                                    <li>‚Ä¢ <a href="https://www.ademe.fr/expertises/batiment" target="_blank" rel="noopener" className="text-blue-600 underline">ADEME - Agence de l'environnement</a></li>
                                    <li>‚Ä¢ <a href="https://www.cstb.fr/fr/le-cstb/organisation/directions-operationnelles/direction-energie-environnement/division-enveloppe-et-revetements/" target="_blank" rel="noopener" className="text-blue-600 underline">R√®gles Th-U (m√©thode de calcul)</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-2">üå°Ô∏è Klimaatdata:</h4>
                                <ul className="text-xs space-y-1">
                                    <li>‚Ä¢ <a href="https://www.rt-batiment.fr/batiments-neufs/reglementation-thermique-2012/textes-de-reference/arrete-du-26-octobre-2010.html" target="_blank" rel="noopener" className="text-blue-600 underline">RT 2012 klimaatzones H1a-H3</a></li>
                                    <li>‚Ä¢ <a href="https://meteofrance.fr/climat/normales" target="_blank" rel="noopener" className="text-blue-600 underline">M√©t√©o-France temperaturen</a></li>
                                    <li>‚Ä¢ <a href="https://www.ademe.fr/sites/default/files/assets/documents/guide-pratique-dju.pdf" target="_blank" rel="noopener" className="text-blue-600 underline">DJU (Degr√©s Jours Unifi√©s)</a></li>
                                    <li>‚Ä¢ <a href="https://meteofrance.fr/climat/normales/30ans" target="_blank" rel="noopener" className="text-blue-600 underline">30-jaar gemiddelden per regio</a></li>
                                </ul>
                            </div>
                            <div>
                                <h4 className="font-semibold mb-2">üí∞ Energieprijzen:</h4>
                                <ul className="text-xs space-y-1">
                                    <li>‚Ä¢ <a href="https://www.cre.fr/" target="_blank" rel="noopener" className="text-blue-600 underline">CRE - Commission de r√©gulation</a></li>
                                    <li>‚Ä¢ <a href="https://www.cre.fr/Pages/Commissions-specialisees-et-groupes-de-travail/Comite-de-reglement-des-differends-et-des-sanctions/Decisions-du-Comite-de-reglement-des-differends-et-des-sanctions" target="_blank" rel="noopener" className="text-blue-600 underline">Tarifs r√©glement√©s TTC 2024</a></li>
                                    <li>‚Ä¢ Automatisch bijgewerkt via API</li>
                                    <li>‚Ä¢ <a href="https://www.service-public.fr/particuliers/vosdroits/F10483" target="_blank" rel="noopener" className="text-blue-600 underline">Gemiddelde prijzen Frankrijk</a></li>
                                </ul>
                            </div>
                        </div>
                        <div className="mt-4 p-4 bg-gray-50 rounded-lg text-sm">
                            <p><strong>‚ö†Ô∏è Disclaimer:</strong> Deze calculator geeft een indicatieve berekening gebaseerd op erkende Franse normstellingen en standaard methoden. 
                            Voor offici√´le energieaudits en DPE certificering raadpleeg een gecertificeerd bureau. Energieprijzen zijn gemiddelden en kunnen vari√´ren per leverancier, contract en regio.</p>
                            <p className="mt-2"><strong>üî¨ Methodiek:</strong> Berekeningen gebaseerd op RT 2012 regelgeving, CSTB normen en ADEME richtlijnen. 
                            Klimaatcorrecties volgens Franse DJU methodiek. Gedragsfactoren gebaseerd op studies naar werkelijk energiegebruik.</p>
                            <p className="mt-2"><strong>üìù Ontwikkeld voor:</strong> <a href="https://www.infofrankrijk.com" target="_blank" rel="noopener" className="text-blue-600 underline">InfoFrankrijk.com</a> en 
                            <a href="https://www.nederlanders.fr" target="_blank" rel="noopener" className="text-blue-600 underline"> Nederlanders.fr</a> door 
                            <strong> Communities Abroad ¬©</strong> | <strong> Services:</strong> <a href="https://www.nedergids.nl" target="_blank" rel="noopener" className="text-blue-600 underline">NederGids.nl</a></p>
                        </div>
                    </div>
                </div>
            );
        };

        // Hide loading and render calculator
        document.getElementById('loading').style.display = 'none';
        ReactDOM.render(React.createElement(WarmteverliesCalculator), document.getElementById('root'));
    </script>

    <!-- Analytics (optioneel) -->
    <script>
        // Eenvoudige usage tracking
        console.log('Warmteverlies Calculator geladen:', new Date().toISOString());
        console.log('Ontwikkeld door Communities Abroad voor InfoFrankrijk.com en Nederlanders.fr');
        
        // Track calculator usage
        if (typeof gtag !== 'undefined') {
            gtag('event', 'calculator_loaded', {
                'event_category': 'tools',
                'event_label': 'warmteverlies_calculator'
            });
        }
    </script>
</body>
</html>