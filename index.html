<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Energie- & Kostencalculator Frankrijk (Stabiele Versie)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{ --brand:#800000; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    @media print{ .no-print{ display:none !important; } }
  </style>
</head>
<body class="bg-neutral-50 text-neutral-900">
  <div id="app"></div>

  <script type="text/babel">
    const { useState, useMemo, useEffect } = React;

    // ---------- Helpers ----------
    const fmt = new Intl.NumberFormat('nl-NL', { maximumFractionDigits: 0 });
    const money = (x) => new Intl.NumberFormat('nl-NL', { style: 'currency', currency: 'EUR', maximumFractionDigits: 0 }).format(x);
    const num = (v, d=0) => { const n = parseFloat(String(v).replace(',', '.')); return Number.isFinite(n) ? n : d; };
    const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

    // ---------- Data & Constants ----------
    const ZONES = [ { id:'med', name:'Méditerranée (zacht)', hdd:1400, pool_temp: 22 }, { id:'ouest', name:'Zuid‑West / Atlantisch', hdd:1900, pool_temp: 20 }, { id:'paris', name:'Noord / Parijs (Île‑de‑France)', hdd:2200, pool_temp: 19 }, { id:'centre', name:'Centraal / Bourgogne', hdd:2500, pool_temp: 19 }, { id:'est', name:'Oost / Elzas‑Lotharingen', hdd:2800, pool_temp: 18 }, { id:'mont', name:'Bergen (koel)', hdd:3400, pool_temp: 17 }, ];
    const PV_YIELD = { med: 1450, ouest: 1250, paris: 1150, centre: 1200, est: 1150, mont: 1100, };
    const DEFAULT_APPLIANCES = [ { key:'fridge', label:'Koelkast/vriezer', kwh: 250, on:true }, { key:'wash', label:'Wassen/drogen', kwh: 220, on:true }, { key:'dish', label:'Vaatwasser', kwh: 160, on:true }, { key:'it', label:'IT & randapparatuur', kwh: 150, on:true }, { key:'tv', label:'TV & media', kwh: 120, on:true }, { key:'small', label:'Kleine verbruikers', kwh: 150, on:true }, { key:'lighting', label:'Verlichting (LED)', kwh: 180, on:true }, ];
    const PRICE_DEFAULTS_USER = { elec: 0.25, gas: 1.20, fioul: 1.15, pellet: 0.60, wood: 85, propaan: 1.80, petroleum: 2.00 };
    const ENERGY_UNITS = { elec: '€/kWh', gas: '€/m³', fioul: '€/L', pellet: '€/kg', wood: '€/stère', propaan: '€/L', petroleum: '€/L' };
    const KWH_CONVERSION = { elec: 1, gas: 10, fioul: 10, pellet: 5, wood: 1800, propaan: 7.1, petroleum: 10 };
    const HEAT_MAIN_DEF = [ { key:'elec', label:'Elektrisch (direct)', priceKey: 'elec' }, { key:'hp', label:'Warmtepomp (SCOP)', priceKey: 'elec' }, { key:'gas', label:'Aardgas (ketel η)', priceKey: 'gas' }, { key:'fioul', label:'Fioul/mazout (η)', priceKey: 'fioul' }, { key:'pellet', label:'Houtpellets‑CV (η)', priceKey: 'pellet' }, { key:'wood', label:'Hout‑CV (η)', priceKey: 'wood' }, ];
    const HEAT_AUX_DEF = [ { key:'none', label:'Geen bijverwarming', priceKey: null }, { key:'inverter', label:'Inverter‑airco (SCOP)', priceKey: 'elec' }, { key:'elec', label:'Elektrisch (direct)', priceKey: 'elec' }, { key:'pellet', label:'Houtpelletkachel (η)', priceKey: 'pellet' }, { key:'wood', label:'Houtkachel (η)', priceKey: 'wood' }, { key:'petroleum', label:'Petroleumkachel (η)', priceKey: 'petroleum' }, ];
    const DHW_TYPES_DEF = [ { key:'elec', label:'Boiler elektrisch', priceKey: 'elec' }, { key:'gas', label:'Gasgeiser/ketel (η)', priceKey: 'gas' }, { key:'hp', label:'WP‑boiler (SCOP)', priceKey: 'elec' }, { key:'solar', label:'Zonneboiler', priceKey: 'elec' }, ];
    const POOL_HEAT_DEF = [ { key:'none', label:'Geen verwarming', priceKey: null }, { key:'elec', label:'Elektrisch', priceKey: 'elec' }, { key:'gas', label:'Gas (η)', priceKey: 'gas' }, { key:'hp', label:'Warmtepomp (SCOP)', priceKey: 'elec' }, ];

    // ---------- Components ----------
    const Section = ({title, children, right}) => (
      <section className="card bg-white rounded-2xl shadow-sm border border-neutral-200 p-5">
        <div className="flex items-center justify-between mb-3">
          <h2 className="text-lg font-semibold text-neutral-900">{title}</h2>
          {right}
        </div>
        {children}
      </section>
    );
    const Label = ({children}) => (<label className="text-sm font-medium text-neutral-800 flex items-center gap-2">{children}</label>);
    const NumberInput = ({value, onChange, min, max, step=1, suffix, ...rest}) => (
      <div className="flex items-stretch gap-2">
        <input type="text" inputMode="decimal" className="w-full rounded-lg border border-neutral-300 px-3 py-2 text-sm focus:ring-2 focus:ring-[--brand] focus:border-[--brand]" value={value} onChange={e=>onChange(e.target.value)} {...rest} />
        {suffix && <div className="text-sm px-2 py-2 rounded-lg bg-neutral-100 border border-neutral-200 text-neutral-700">{suffix}</div>}
      </div>
    );
    const Select = ({value, onChange, options}) => (
      <select className="w-full rounded-lg border border-neutral-300 px-3 py-2 text-sm focus:ring-2 focus:ring-[--brand] focus:border-[--brand]" value={value} onChange={e=>onChange(e.target.value)}>
        {options.map(o => <option key={o.value??o.key} value={o.value??o.key}>{o.label??o.name}</option>)}
      </select>
    );

    // ---------- Main App ----------
    function App(){
      // --- State ---
      const [zone, setZone] = useState('paris');
      const [wallA, setWallA] = useState('120'), [wallU, setWallU] = useState('0.5');
      const [roofA, setRoofA] = useState('100'), [roofU, setRoofU] = useState('0.25');
      const [floorA, setFloorA] = useState('100'), [floorU, setFloorU] = useState('0.35');
      const [winA, setWinA] = useState('20'), [winU, setWinU] = useState('1.5');
      const [volume, setVolume] = useState('250');
      const [ach, setAch] = useState('0.5');
      const [warmupPct, setWarmupPct] = useState('15');
      const [userPrices, setUserPrices] = useState({...PRICE_DEFAULTS_USER});
      const [mainType, setMainType] = useState('hp');
      const [mainScop, setMainScop] = useState('3.2');
      const [mainEta, setMainEta] = useState('0.9');
      const [auxType, setAuxType] = useState('wood');
      const [auxShare, setAuxShare] = useState('25');
      const [auxScop, setAuxScop] = useState('3.2');
      const [auxEta, setAuxEta] = useState('0.85');
      const [pvKwp, setPvKwp] = useState('3');
      const [pvSelfUse, setPvSelfUse] = useState('60');
      const [dhwType, setDhwType] = useState('hp');
      const [dhwScop, setDhwScop] = useState('2.5');
      const [dhwEta, setDhwEta] = useState('0.9');
      const [showers, setShowers] = useState('2');
      const [litersPer, setLitersPer] = useState('55');
      const [appls, setAppls] = useState(DEFAULT_APPLIANCES);
      const [evKmWeek, setEvKmWeek] = useState('100');
      const [evKwh100, setEvKwh100] = useState('18');
      const [evLoss, setEvLoss] = useState('10');
      const [poolHas, setPoolHas] = useState(false);
      const [poolVol, setPoolVol] = useState('30');
      const [poolTargetT, setPoolTargetT] = useState('27');
      const [poolSeason, setPoolSeason] = useState('5');
      const [poolHeatType, setPoolHeatType] = useState('hp');
      const [poolHpScop, setPoolHpScop] = useState('4');
      const [poolEta, setPoolEta] = useState('0.9');
      const [poolPumpW, setPoolPumpW] = useState('450');
      const [poolPumpH, setPoolPumpH] = useState('8');
      const [poolCover, setPoolCover] = useState('true');
      const [poolWind, setPoolWind] = useState('1');

      // --- Calculations ---
      const results = useMemo(()=> {
          const pricesKwh = Object.keys(userPrices).reduce((acc, key) => {
              acc[key] = num(userPrices[key]) / (KWH_CONVERSION[key] || 1);
              return acc;
          }, {});

          const hdd = ZONES.find(z=>z.id===zone)?.hdd || 2200;
          const UA = num(wallA)*num(wallU) + num(roofA)*num(roofU) + num(floorA)*num(floorU) + num(winA)*num(winU);
          const Vloss = 0.34 * num(volume) * num(ach);
          
          const heatDemandBase = (UA + Vloss) * hdd * 24 / 1000;
          const heatDemand = heatDemandBase * (1 + num(warmupPct)/100);

          const auxFrac = auxType === 'none' ? 0 : clamp(num(auxShare)/100, 0, 0.9);
          const mainFrac = 1 - auxFrac;

          const mainDef = HEAT_MAIN_DEF.find(h=>h.key===mainType);
          const auxDef = HEAT_AUX_DEF.find(h=>h.key===auxType) || {priceKey: null};

          const mainEff = mainDef?.label.includes('SCOP') ? num(mainScop, 1) : (mainDef?.label.includes('η') ? num(mainEta, 0.1) : 1);
          const auxEff = auxDef?.label.includes('SCOP') ? num(auxScop, 1) : (auxDef?.label.includes('η') ? num(auxEta, 0.1) : 1);

          const mainInput = heatDemand * mainFrac / mainEff;
          const auxInput = auxType === 'none' ? 0 : (heatDemand * auxFrac / auxEff);
          
          const mainCost = (pricesKwh[mainDef?.priceKey] || 0) * mainInput;
          const auxCost = (pricesKwh[auxDef?.priceKey] || 0) * auxInput;

          const pvYield = num(pvKwp) > 0 ? num(pvKwp) * (PV_YIELD[zone]||1150) : 0;
          const pvSelf = pvYield * clamp(num(pvSelfUse)/100, 0, 1);

          const dhwThermal = (num(showers) * num(litersPer) * 365 * Math.max(0, 40 - 12) * 4.186) / 3600;
          const dhwDef = DHW_TYPES_DEF.find(d=>d.key===dhwType);
          const dhwEff = dhwDef?.label.includes('SCOP') ? num(dhwScop, 1) : (dhwDef?.label.includes('η') ? num(dhwEta, 0.1) : 1);
          const dhwInput = dhwThermal / dhwEff;
          const dhwCost = (pricesKwh[dhwDef?.priceKey] || 0) * dhwInput;

          const applKwh = appls.reduce((s,a)=> s + (a.on ? num(a.kwh,0) : 0), 0);
          const evKwhYear = (num(evKmWeek) * 52) * (num(evKwh100)/100) * (1 + num(evLoss)/100);

          let pool = { kwh: 0, cost: 0, elec: 0, gas: 0 };
          if(poolHas) {
              const days = num(poolSeason) * 30;
              const pumpKwh = (num(poolPumpW)/1000) * num(poolPumpH) * days;
              const ambientTemp = ZONES.find(z=>z.id===zone)?.pool_temp || 19;
              const deltaT = Math.max(0, num(poolTargetT) - ambientTemp);
              const thermalLossFactor = (poolCover === 'true' ? 0.5 : 1.0) * num(poolWind);
              const thermalDaily = num(poolVol) * deltaT * 1.16 * thermalLossFactor;
              const thermal = thermalDaily * days;

              const def = POOL_HEAT_DEF.find(h=>h.key===poolHeatType);
              const eff = def?.label.includes('SCOP') ? num(poolHpScop, 1) : (def?.label.includes('η') ? num(poolEta, 0.1) : 1);
              const input = def.key === 'none' ? 0 : (thermal / eff);
              const elecUse = pumpKwh + (def?.priceKey === 'elec' ? input : 0);
              const gasUse = (def?.priceKey === 'gas' ? input : 0);
              const poolCost = elecUse * (pricesKwh.elec || 0) + gasUse * (pricesKwh.gas || 0);
              pool = { kwh: pumpKwh + input, cost: poolCost, elec: elecUse, gas: gasUse };
          }
          
          const elecHeatingInput = (mainDef?.priceKey==='elec' ? mainInput : 0) + (auxDef?.priceKey==='elec' ? auxInput : 0);
          const elecDhwInput = (dhwDef?.priceKey==='elec') ? dhwInput : 0;
          const elecTotalGross = elecHeatingInput + elecDhwInput + applKwh + evKwhYear + pool.elec;
          const elecNet = Math.max(0, elecTotalGross - pvSelf);
          const pvSelfValue = pvSelf * (pricesKwh.elec || 0);

          const nonElecMainCost = mainDef?.priceKey !== 'elec' ? mainCost : 0;
          const nonElecAuxCost = auxDef?.priceKey !== 'elec' ? auxCost : 0;
          const nonElecDhwCost = dhwDef?.priceKey !== 'elec' ? dhwCost : 0;
            
          const finalTotalCost = (elecNet * pricesKwh.elec) + nonElecMainCost + nonElecAuxCost + nonElecDhwCost + (pool.gas * (pricesKwh.gas || 0));

          return {
              totalCost: finalTotalCost, 
              perMonth: finalTotalCost / 12,
              heatDemand,
              costs: { verwarming: mainCost + auxCost, tapwater: dhwCost, apparaten: applKwh * pricesKwh.elec, ev: evKwhYear * pricesKwh.elec, zwembad: pool.cost, pvWaarde: -pvSelfValue },
              verbruik: { nettoElec: elecNet, brutoElec: elecTotalGross, pvEigen: pvSelf, warmte: mainInput + auxInput, tapwater: dhwInput, overig: applKwh + evKwhYear + pool.kwh },
          };
      }, [zone, wallA, wallU, roofA, roofU, floorA, floorU, winA, winU, volume, ach, warmupPct, userPrices, mainType, mainScop, mainEta, auxType, auxShare, auxScop, auxEta, pvKwp, pvSelfUse, dhwType, dhwScop, dhwEta, showers, litersPer, appls, evKmWeek, evKwh100, evLoss, poolHas, poolVol, poolTargetT, poolSeason, poolHeatType, poolHpScop, poolEta, poolPumpW, poolPumpH, poolCover, poolWind]);

      return (
        <div className="min-h-screen flex flex-col">
          <header className="no-print bg-white border-b border-neutral-200">
            <div className="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
              <div>
                <h1 className="text-xl font-bold" style={{color:'var(--brand)'}}>Energie- & Kostencalculator (Stabiele Versie)</h1>
                <p className="text-sm text-neutral-600">Ruimteverwarming • Tapwater • Apparaten • EV • Zwembad • PV‑verrekening</p>
              </div>
              <button onClick={()=>window.print()} className="px-3 py-2 rounded-lg bg-[--brand] text-white text-sm font-medium">Print / PDF</button>
            </div>
          </header>

          <main className="flex-1 max-w-7xl mx-auto w-full px-4 py-6 grid grid-cols-1 lg:grid-cols-3 gap-5">
            <div className="lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-5">
              <Section title="Klimaat & schil">
                <div className="grid grid-cols-2 gap-4">
                  <div>
                    <Label>Klimaatzone</Label>
                    <Select value={zone} onChange={setZone} options={ZONES.map(z=>({value:z.id,label:z.name}))} />
                  </div>
                  <div><Label>Opwarmtoeslag</Label><NumberInput value={warmupPct} onChange={setWarmupPct} suffix="%" /></div>
                </div>
                <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
                    <div><Label>Gevel (m² · U)</Label><div className="flex gap-2 mt-1"><NumberInput value={wallA} onChange={setWallA} suffix="m²" /><NumberInput value={wallU} onChange={setWallU} step={0.05} suffix="U" /></div></div>
                    <div><Label>Dak (m² · U)</Label><div className="flex gap-2 mt-1"><NumberInput value={roofA} onChange={setRoofA} suffix="m²" /><NumberInput value={roofU} onChange={setRoofU} step={0.05} suffix="U" /></div></div>
                    <div><Label>Vloer (m² · U)</Label><div className="flex gap-2 mt-1"><NumberInput value={floorA} onChange={setFloorA} suffix="m²" /><NumberInput value={floorU} onChange={setFloorU} step={0.05} suffix="U" /></div></div>
                    <div><Label>Ramen (m² · U)</Label><div className="flex gap-2 mt-1"><NumberInput value={winA} onChange={setWinA} suffix="m²" /><NumberInput value={winU} onChange={setWinU} step={0.1} suffix="U" /></div></div>
                </div>
                <div className="grid grid-cols-2 gap-4 mt-3">
                    <div><Label>Gebouwvolume</Label><NumberInput value={volume} onChange={setVolume} suffix="m³" /></div>
                    <div><Label>Luchtwisselingen (ACH)</Label><NumberInput value={ach} onChange={setAch} step={0.1} /></div>
                </div>
              </Section>
              <Section title="Hoofd- & bijverwarming">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <Label>Hoofdverwarming</Label>
                    <Select value={mainType} onChange={setMainType} options={HEAT_MAIN_DEF.map(h=>({value:h.key,label:h.label}))} />
                    {mainType==='hp' && (<div className="mt-2"><Label>SCOP hoofd</Label><NumberInput value={mainScop} onChange={setMainScop} step={0.1} /></div>)}
                    {(mainType!=='hp' && mainType!=='elec') && (<div className="mt-2"><Label>Rendement η hoofd</Label><NumberInput value={mainEta} onChange={setMainEta} step={0.01} /></div>)}
                  </div>
                  <div>
                    <Label>Bijverwarming</Label>
                    <Select value={auxType} onChange={setAuxType} options={HEAT_AUX_DEF.map(h=>({value:h.key,label:h.label}))} />
                    {auxType!=='none' && (<div className="grid grid-cols-2 gap-3 mt-2">
                        <div><Label>Bij‑aandeel</Label><NumberInput value={auxShare} onChange={setAuxShare} suffix="%" /></div>
                        {auxType==='inverter' && (<div><Label>SCOP bij</Label><NumberInput value={auxScop} onChange={setAuxScop} step={0.1} /></div>)}
                        {(auxType!=='inverter' && auxType!=='elec' && auxType!=='none') && (<div><Label>Rendement η bij</Label><NumberInput value={auxEta} onChange={setAuxEta} step={0.01} /></div>)}
                      </div>
                    )}
                  </div>
                </div>
              </Section>
              <Section title="Tapwater (ECS)">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div>
                    <Label>Type</Label>
                    <Select value={dhwType} onChange={setDhwType} options={DHW_TYPES_DEF.map(d=>({value:d.key,label:d.label}))} />
                    {dhwType==='hp' && (<div className="mt-2"><Label>SCOP WP‑boiler</Label><NumberInput value={dhwScop} onChange={setDhwScop} step={0.1} /></div>)}
                    {(dhwType==='gas') && (<div className="mt-2"><Label>Rendement η</Label><NumberInput value={dhwEta} onChange={setDhwEta} step={0.01} /></div>)}
                  </div>
                  <div><Label>Douches per dag</Label><NumberInput value={showers} onChange={setShowers} step={0.5} /></div>
                  <div><Label>Liter per douche</Label><NumberInput value={litersPer} onChange={setLitersPer} suffix="L" /></div>
                </div>
              </Section>
              <Section title="Apparaten & verlichting">
                 <div className="grid grid-cols-1 md:grid-cols-2 gap-3 mt-2">
                  {appls.map((a,idx)=> (
                    <div key={a.key} className={`border rounded-lg p-3 ${a.on? 'border-neutral-300 bg-neutral-50':'border-neutral-200 bg-white opacity-80'}`}>
                      <div className="flex items-center justify-between">
                        <label className="flex items-center gap-2 text-sm font-medium">
                          <input type="checkbox" checked={a.on} onChange={e=>{ const c = [...appls]; c[idx] = {...a, on:e.target.checked}; setAppls(c); }} /> {a.label}
                        </label>
                        <div className="text-xs text-neutral-500">kWh/jaar</div>
                      </div>
                      <input type="text" inputMode="decimal" className="mt-2 w-full rounded border px-2 py-1 text-sm" value={a.kwh} onChange={e=>{ const c=[...appls]; c[idx] = {...a, kwh: e.target.value}; setAppls(c); }} />
                    </div>
                  ))}
                </div>
              </Section>
              <Section title="EV‑laden">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div><Label>Km per week</Label><NumberInput value={evKmWeek} onChange={setEvKmWeek} suffix="km" /></div>
                  <div><Label>kWh / 100 km</Label><NumberInput value={evKwh100} onChange={setEvKwh100} /></div>
                  <div><Label>Laadverlies</Label><NumberInput value={evLoss} onChange={setEvLoss} suffix="%" /></div>
                </div>
              </Section>
              <Section title="Zwembad">
                <div className="flex items-center gap-3"><input id="haspool" type="checkbox" checked={poolHas} onChange={e=>setPoolHas(e.target.checked)} /><label htmlFor="haspool" className="text-sm font-medium">Ik heb een zwembad</label></div>
                {poolHas && (<div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-3">
                    <div><Label>Volume</Label><NumberInput value={poolVol} onChange={setPoolVol} suffix="m³" /></div>
                    <div><Label>Doel temperatuur</Label><NumberInput value={poolTargetT} onChange={setPoolTargetT} suffix="°C" /></div>
                    <div><Label>Seizoen</Label><NumberInput value={poolSeason} onChange={setPoolSeason} suffix="mnd" /></div>
                    <div><Label>Verwarmingstype</Label><Select value={poolHeatType} onChange={setPoolHeatType} options={POOL_HEAT_DEF.map(h=>({value:h.key,label:h.label}))} /></div>
                    {poolHeatType==='hp' && (<div><Label>SCOP WP</Label><NumberInput value={poolHpScop} onChange={setPoolHpScop} step={0.1} /></div>)}
                    {poolHeatType==='gas' && (<div><Label>Rendement η</Label><NumberInput value={poolEta} onChange={setPoolEta} step={0.01} /></div>)}
                    <div><Label>Pompvermogen</Label><NumberInput value={poolPumpW} onChange={setPoolPumpW} suffix="W" /></div>
                    <div><Label>Draaiuren/dag</Label><NumberInput value={poolPumpH} onChange={setPoolPumpH} suffix="h" /></div>
                    <div><Label>Afdekking</Label><select className="w-full rounded border px-3 py-2 text-sm" value={poolCover} onChange={e=>setPoolCover(e.target.value)}><option value="true">Ja</option><option value="false">Nee</option></select></div>
                    <div><Label>Windfactor</Label><NumberInput value={poolWind} onChange={setPoolWind} step={0.1} /></div>
                  </div>
                )}
              </Section>
              <Section title="Zonne‑energie (PV)">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                  <div><Label>Vermogen</Label><NumberInput value={pvKwp} onChange={setPvKwp} suffix="kWp" /></div>
                  <div><Label>Eigenverbruik</Label><NumberInput value={pvSelfUse} onChange={setPvSelfUse} suffix="%" /></div>
                </div>
              </Section>
              <Section title="Energieprijzen">
                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                  {Object.keys(ENERGY_UNITS).map(key => (
                    <div key={key}>
                      <Label>{{elec: 'Elektriciteit', gas: 'Gas', fioul: 'Fioul', pellet: 'Houtpellets', wood: 'Stookhout', propaan: 'Propaan', petroleum: 'Petroleum'}[key]}</Label>
                      <NumberInput value={userPrices[key]} onChange={(val)=> setUserPrices(p=>({...p, [key]:val}))} unit={ENERGY_UNITS[key]} />
                    </div>
                  ))}
                </div>
              </Section>
            </div>
            
            <div className="flex flex-col gap-5">
              <Section title="Overzicht & uitsplitsing">
                <div id="costs-breakdown-right">
                  {Object.entries(results.costs).map(([key, value]) => (
                      <div key={key} className="flex justify-between text-sm py-1 border-b">
                          <span className="text-gray-600 capitalize">{key.replace('Waarde', ' Waarde')}</span>
                          <span className={`font-medium ${value < 0 ? 'text-green-600' : 'text-gray-800'}`}>{money(value)}</span>
                      </div>
                  ))}
                </div>
              </Section>
            </div>
          </main>
          <div id="pdf-summary" className="p-8 bg-white text-black">
              <h2 className="text-2xl font-bold mb-6 text-black">Samenvatting Energiecalculator</h2>
              <p><b>Totale Jaarkosten:</b> {money(results.totalCost)}</p>
              {/* More PDF content can be added here */}
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('app')).render(<App/>);
  </script>
</body>
</html>